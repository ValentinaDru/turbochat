class RoomsController < ApplicationController
  before_action :authenticate_user!
  
  def index
    @rooms = Room.public_rooms
    @users = User.all_except(current_user)
  end
end

Этот контроллер RoomsController определяет действие index, которое отображает 
список комнат и пользователей на веб-странице. Давайте разберем код:

before_action :authenticate_user!: Это фильтр действий, который требует 
аутентификации пользователя перед выполнением любого другого действия в этом 
контроллере. Это обеспечивает доступ к действию index только для аутентифицированных 
пользователей.

def index: Это действие контроллера, которое отображает список комнат и 
пользователей на веб-странице.

@rooms = Room.public_rooms: Это присваивание переменной @rooms всех 
общедоступных комнат. Room.public_rooms - это запрос к модели Room, который 
использует определенный scope, чтобы вернуть только общедоступные комнаты.

@users = User.all_except(current_user): Это присваивание переменной @users 
всех пользователей, кроме текущего пользователя. Метод all_except является 
частью модели User и возвращает всех пользователей, исключая переданного 
текущего пользователя.

Таким образом, метод index контроллера RoomsController готовит данные для 
отображения на веб-странице, включая список общедоступных комнат и всех 
пользователей, кроме текущего.
